var JamaAPI = require('jama-rest-api');

var Jama = new JamaAPI({
    restURL: 'http://localhost:9999',
    username: 'sample',
    password: 'password'
});

var JamaItemProxy = {
    getChildren: function(itemId, cb) {
        Jama.items.getChildren(itemId).end(function(err, res) {
            cb(err, res);
        });
    },
    updateItem: function(itemId, data, cb) {
        Jama.items.update(itemId, data).end(function(err, res) {
            cb(err, res);
        })
    },
    getProjects: function(cb) {
        Jama.projects.get(null, {maxResults: 500}).end(function(err, res) {
            cb(err, res.body.data);
        });
    }
}

module.exports = JamaItemProxy;